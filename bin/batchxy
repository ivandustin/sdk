#!/usr/bin/env python
from contextlib import suppress
from sys import argv, stdin
from random import choice
from numpy.random import choice as npchoice
from numpy import array
from npstr import encode, decode

size = int(argv[1])
xs = []
ys = []
for line in stdin:
    x, y = line.split(" ")
    xs.append(decode(x))
    ys.append(decode(y))
x = array(xs)
y = array(ys)
g = [x[y == i] for i in range(y.max() + 1)]
with suppress(KeyboardInterrupt, BrokenPipeError):
    while True:
        y = npchoice(len(g), size=size)
        x = array([choice(g[i]) for i in y])
        print(encode(x), encode(y))
